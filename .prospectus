item do
  expected do
    url_xpath
    url 'https://www.archlinux.org/packages/core/x86_64/less/'
    xpath '//*[@id="pkgdetails"]/h2'
    regex /^less ([\w.]*)-\d+$/
  end

  actual do
    git_tag
    regex /^(.*)-\d+$/
  end

  deps do
    %w(ncurses).each do |dep|
      item do
        name dep

        expected do
          github_release
          repo "amylum/#{dep}"
        end

        actual do
          grep
          file 'Makefile'
          regex /^#{dep.upcase}_VERSION = ([\d.-]+)$/
        end
      end
    end
  end
end
